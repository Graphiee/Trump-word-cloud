<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<div>
			<title>Trump Inauguration Speech 2025</title>
		</div>
		<script src="https://d3js.org/d3.v7.min.js"></script>
		<script src="https://cdn.jsdelivr.net/gh/jasondavies/d3-cloud/build/d3.layout.cloud.js"></script>
		<link
			rel="stylesheet"
			href="https://cdn.jsdelivr.net/npm/nouislider@14.6.3/distribute/nouislider.min.css"
		/>
		<script src="https://cdn.jsdelivr.net/npm/nouislider@14.6.3/distribute/nouislider.min.js"></script>
		<style>
			:root {
				--bg-color: #1a1a1a;
				--container-bg: #242424;
				--text-color: #e0e0e0;
				--border-color: #3a3a3a;
				--accent-color: #3498db;
				--hover-color: #2980b9;
			}

			body {
				font-family: Arial, sans-serif;
				margin: 0;
				padding: 20px;
				background-color: var(--bg-color);
				color: var(--text-color);
			}

			.container {
				max-width: 1400px;
				margin: 0 auto;
				background-color: var(--container-bg);
				padding: 20px;
				border-radius: 8px;
				box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
			}

			h1 {
				text-align: center;
				color: var(--text-color);
				margin-bottom: 20px;
			}

			.slider-container {
				margin: 0 20px 30px 20px;
			}

			#timeRange {
				text-align: center;
				display: block;
				margin-bottom: 10px;
				font-weight: bold;
				color: var(--text-color);
			}

			.content-wrapper {
				display: flex;
				gap: 20px;
				position: relative;
			}

			#word-cloud {
				flex: 1;
				min-width: 0; /* Prevents flex item from overflowing */
				height: 600px;
				background-color: var(--container-bg);
				border-radius: 8px;
			}

			.word-frequency-table {
				width: 100%;
				padding: 20px;
				margin-top: 20px;
				border: 1px solid var(--border-color);
				border-radius: 8px;
				background-color: var(--container-bg);
			}

			.word-frequency-table h2 {
				font-size: 1.2em;
				margin-bottom: 15px;
				color: var(--text-color);
			}

			#frequency-table {
				width: 100%;
				max-width: 600px;
				margin: 0 auto;
				border-collapse: collapse;
			}

			#frequency-table th,
			#frequency-table td {
				padding: 8px;
				text-align: left;
				border-bottom: 1px solid var(--border-color);
			}

			#frequency-table th {
				font-weight: bold;
				color: var(--accent-color);
			}

			#frequency-table tr:hover {
				background-color: rgba(52, 152, 219, 0.1);
			}

			.topics-title {
				font-size: 1.2em;
				margin-bottom: 15px;
				color: var(--text-color);
			}

			.topics-list {
				display: flex;
				flex-direction: column;
				gap: 10px;
			}

			.topic-button {
				padding: 12px 16px;
				background-color: transparent;
				border: 1px solid var(--accent-color);
				border-radius: 8px;
				color: var(--text-color);
				cursor: pointer;
				transition: all 0.2s ease;
				text-align: left;
				display: flex;
				flex-direction: column;
				gap: 5px;
			}

			.topic-time {
				font-size: 0.85em;
				color: var(--accent-color);
			}

			.topic-button:hover {
				background-color: var(--hover-color);
				border-color: var(--hover-color);
				color: white;
			}

			.topic-button.active {
				background-color: var(--accent-color);
				border-color: var(--accent-color);
				color: white;
			}

			.topic-button.active .topic-time {
				color: rgba(255, 255, 255, 0.8);
			}

			.noUi-connect {
				background: var(--accent-color);
			}

			#range-slider {
				height: 10px;
				margin: 30px 0;
			}

			.toggle-topics {
				display: none;
				width: 100%;
				padding: 8px 16px;
				background-color: var(--accent-color);
				border: none;
				border-radius: 4px;
				color: white;
				cursor: pointer;
				margin-bottom: 10px;
			}

			/* Dark theme for noUiSlider */
			.noUi-target {
				background-color: var(--border-color);
				border: none;
				box-shadow: none;
			}

			.topics-container {
				width: 300px;
				height: 600px;
				overflow-y: scroll;
				padding: 15px;
				border: 1px solid var(--border-color);
				border-radius: 8px;
				background-color: var(--container-bg);
				flex-shrink: 0; /* Prevents container from shrinking */
				scrollbar-width: thin;
				scrollbar-color: var(--accent-color) var(--border-color);
			}

			/* Webkit scrollbar styling (Chrome, Safari, Edge) */
			.topics-container::-webkit-scrollbar {
				width: 8px;
			}

			.topics-container::-webkit-scrollbar-track {
				background: var(--border-color);
				border-radius: 4px;
			}

			.topics-container::-webkit-scrollbar-thumb {
				background-color: var(--accent-color);
				border-radius: 4px;
			}

			.topics-container::-webkit-scrollbar-thumb:hover {
				background-color: var(--hover-color);
			}

			.noUi-handle {
				background-color: var(--accent-color);
				border: none;
				box-shadow: none;
				border-radius: 50%;
			}

			.noUi-handle:before,
			.noUi-handle:after {
				display: none;
			}

			.close-topics {
				display: none;
			}

			/* Mobile styles */
			@media screen and (max-width: 768px) {
				h1 {
					font-size: 18px;
				}
				.content-wrapper {
					display: block;
				}

				.topics-container {
					position: fixed;
					top: 0;
					right: -100%;
					width: 85%;
					height: 100vh;
					padding: 20px;
					border: none;
					border-radius: 0;
					z-index: 1000;
					transition: right 0.3s ease;
					display: block;
					box-shadow: -2px 0 5px rgba(0, 0, 0, 0.2);
				}

				.topics-container.expanded {
					right: 0;
				}

				.overlay {
					display: none;
					position: fixed;
					top: 0;
					left: 0;
					width: 100%;
					height: 100%;
					background: rgba(0, 0, 0, 0.5);
					z-index: 999;
				}

				.overlay.active {
					display: block;
				}

				.topics-title {
					display: flex;
					justify-content: space-between;
					align-items: center;
					margin-bottom: 20px;
				}

				.close-topics {
					display: block;
					background: none;
					border: none;
					color: var(--text-color);
					font-size: 24px;
					cursor: pointer;
					padding: 0;
				}

				#word-cloud {
					width: 100%;
					height: 450px;
					margin: 0;
					overflow: hidden;
				}

				.word-frequency-table {
					padding: 15px;
				}

				.toggle-topics {
					display: block;
					position: fixed;
					bottom: 20px;
					right: 20px;
					z-index: 998;
					width: auto;
					padding: 12px 24px;
					border-radius: 24px;
					box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
				}
			}
		</style>
	</head>
	<body>
		<div class="container">
			<h1>Trump Inauguration Speech 2025</h1>
			<div class="slider-container">
				<span id="timeRange">0:00 - 0:00</span>
				<div id="range-slider"></div>
			</div>
			<button class="toggle-topics">Show Topics</button>
			<div class="overlay"></div>
			<div class="content-wrapper">
				<div id="word-cloud"></div>
				<div class="topics-container">
					<div class="topics-title">
						Topics
						<button class="close-topics">&times;</button>
					</div>
					<div id="topics-list" class="topics-list">
						<!-- Topics will be dynamically added here -->
					</div>
				</div>
			</div>
		</div>

		<div class="container" style="margin-top: 20px">
			<div class="">
				<h2>Top 10 Most Frequent Words</h2>
				<table id="frequency-table">
					<thead>
						<tr>
							<th>Word</th>
							<th>Count</th>
						</tr>
					</thead>
					<tbody>
						<!-- Table content will be dynamically added here -->
					</tbody>
				</table>
			</div>
		</div>

		<div class="container" style="margin-top: 20px; font-size: 12px">
			<h4>Additional notes</h4>
			<ul>
				<li>
					<p>
						Transcription retrieved from OpenAI's Whisper API. Topics generated
						using
						<a href="https://descript.com">descript.com</a>
					</p>
				</li>
			</ul>
			<ul>
				<li>
					<a href="https://www.youtube.com/watch?v=atCvS1ljpF4"
						>Speech source</a
					>
				</li>
			</ul>
			<ul>
				<li>
					<a
						href="https://raw.githubusercontent.com/Graphiee/Trump-word-cloud/refs/heads/main/main.py"
						>Transcript cleaning script</a
					>
				</li>
			</ul>
		</div>

		<script src="index.js"></script>
		<script>
			// Mobile topics toggle
			const toggleButton = document.querySelector(".toggle-topics");
			const topicsContainer = document.querySelector(".topics-container");
			const overlay = document.querySelector(".overlay");
			const closeButton = document.querySelector(".close-topics");

			function toggleTopics() {
				topicsContainer.classList.toggle("expanded");
				overlay.classList.toggle("active");
				toggleButton.textContent = topicsContainer.classList.contains(
					"expanded"
				)
					? "Hide Topics"
					: "Show Topics";
			}

			toggleButton.addEventListener("click", toggleTopics);
			closeButton.addEventListener("click", toggleTopics);
			overlay.addEventListener("click", toggleTopics);
		</script>
	</body>
</html>
